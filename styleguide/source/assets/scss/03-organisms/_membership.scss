.ama__membership .ama__membership-content  {
  background: #ece7f0;
  @include gutter($padding-bottom-full...);
  @include child-top-gutters(calc($gutter / 2));
  display: flex;
  flex-direction: column;

  &.bottom-margin {
    @include gutter($margin-bottom-full...);
  }

  // Remove margins on child elements so that we can set consistent spacing elsewhere.
  & > * {
    margin-bottom: 0;

    &:not(.membership_image) {
      &:not(.ama__button) {
        &:not(.ama__membership_cta_container) {
          @include gutter($padding-left-full...);
          @include gutter($padding-right-full...);
        }
      }
    }
  }

  .ama__h2 {
    margin-bottom: 0;
  }

  .ama__membership_logo-container {
    background-color: $purple;
    min-height: 28px;
    display: flex;
    margin-bottom: 0;
    margin-top: 0;

    .ama__membership_logo {
      margin-top: 4px;
      margin-bottom: 4px;
      max-height: 40px;

      img {
        height: 40px;
        width: auto;
      }
    }
  }

  > .membership_image {
    margin: 0;

    img {
      width: 100%;
      height: auto;
      margin-top: 0;
    }
  }

  .ama__membership_cta_container {
    display: block;
    margin: 14px 28px 0px 28px;
    @include breakpoint($bp-med min-width) {
      margin-top: 14px;
    }
    .ama__button {
      margin: 0;
      width: 100%;
    }
  }
  @extend .display-list;
}

.ama__membership .ama__membership_media-container {
  display: none;
}

a.ama__membership {
  display: block;
  text-decoration: none;

  &:hover {
    color: $black;
    background: darken(#DAD5DE, 8%);
  }
}

//Hide ama logo in membership block in all instances besides below
.ama__membership_logo-container .logo {
  display: none;
}

//Slim Membership Block styling
.layout--ama-page-section-one-col .ama__membership .ama__membership-content {
  background: #ece7f0;
  margin: 0 0 35px;
  position: relative;
  padding-bottom: 0;
  @include breakpoint($bp-small min-width) {
    width: 100%;
    display: flex;
    -webkit-box-orient: horizontal;
    -webkit-box-direction: normal;
    -ms-flex-direction: row;
    flex-direction: row;
    flex-wrap: nowrap;
    align-items: center;
  }

  // Remove margins on child elements so that we can set consistent spacing elsewhere.
  & > * {
    margin-bottom: 0;

    &:not(.membership_image) {
      &:not(.ama__button) {
        &:not(.ama__membership_cta_container) {
          padding: unset;
        }
      }
    }
  }

  //hide description
  .membership-body {
    display: none;
  }

  .ama__membership_logo-container {
    display: block;
    width: 100%;
    height: 40px;
    position: relative;
    padding: 0;
    @include breakpoint($bp-small min-width) {
      width: 102px;
      height: 44px;
    }
    @include breakpoint($bp-med min-width) {
      width: 200px;
      height: 70px;
    }

    .logo {
      display: block;
      height: 31px;
      width: 76px;
      position: absolute;
      top: 15%;
      left: 2.3%;
      @include breakpoint($bp-small min-width) {
        left: 12%;
      }
      @include breakpoint($bp-med min-width) {
        top: 20%;
        left: 25%;
        height: 42px;
        width: 105px;
      }
    }

    .ama__site-logo {
      display: block;
      position: relative;
      height: 44px;
      @include breakpoint($bp-med min-width) {
        height: 70px;
      }
    }
  }
  .ama__membership_title_container {
    display: block;
    padding-left: 0;
    padding-right: 0;
    margin: 0;
    @include breakpoint($bp-small min-width) {
      -webkit-box-orient: horizontal;
      -webkit-box-direction: normal;
      -ms-flex-direction: row;
      flex-direction: row;
      -webkit-box-flex: 2;
      -ms-flex: 2;
      flex: 2.28;
      flex-grow: 6;
    }
  }
  .ama__membership_cta_container {
    margin: 0 auto;
    display: block;
    max-width: 75%;
    text-align: center;
    position: absolute;
    bottom: 21px;
    left: 0;
    right: 0;
    @include breakpoint($bp-small min-width) {
      -webkit-box-orient: horizontal;
      -webkit-box-direction: normal;
      -ms-flex-direction: row;
      flex-direction: row;
      position: relative;
      -webkit-box-flex: 1;
      -ms-flex: 1;
      flex: 1;
      flex-grow: 2.28;
      text-align: right;
      position: relative;
      bottom: 0;
    }
    @include breakpoint($bp-med min-width) {
      flex-grow: 3;
    }
    @include breakpoint($bp-large min-width) {
      flex-grow: 2;
    }
  }
  h2.ama__h2 {
    margin-top: 14px;
    margin-bottom: 0;
    padding-left: 16%;
    padding-right: 16%;
    text-align: center;
    font-size: 26px;
    @include breakpoint($bp-small min-width) {
      margin-top: 0;
      padding: 0;
    }
    @include breakpoint($bp-med min-width) {
      font-size: 1.444em;
    }
  }
  a.ama__button {
    padding: 0 22px;
    font-size: 18px;
    height: 50px;
    line-height: 50px;
    font-size: 20px;
    width: unset;
    overflow: hidden;
    @include breakpoint($bp-small min-width) {
      display: inline-block;
      margin: 0;
      padding: 0 12px;
      height: 44px;
      line-height: 44px;
      font-size: 15px;
    }
    @include breakpoint($bp-med min-width) {
      font-size: 20px;
      height: 50px;
      line-height: 50px;
      margin-right: 28px;
    }
  }
}

.layout__region--rail_right {
  .ama__membership {
    margin-bottom: 21px;
    @include breakpoint($bp-small min-width) {
      margin-bottom: 28px;
    }
    @include breakpoint($bp-large min-width) {
      margin-bottom: 56px;
      &:last-of-type {
        margin-bottom: 0;
      }
    }
  }
}

@include breakpoint($bp-small max-width) {
  .ama__layout--two-col-right--75-25__right {
    .ama__membership {
      position: relative;
      margin-left: -25px;
      margin-right: -14px;
    }
  }
  .ama__category-index.ama__layout--two-col-right--75-25 {
    .ama__membership {
      position: relative;
      margin-left: -22px;
      margin-right: -22px;
    }
  }
  .ama__subcategory-index .layout--ama-page-section-one-col {
    .ama__membership .ama__membership-content {
      padding-bottom: 85px;
    }
  }
}

// Taxonomy page membership block styling
.ama__category .layout__region--content > .ama__membership,
.ama__category .layout__region--content .layout--onecol .ama__membership,
.ama__category .layout__region--content .layout--ama-page-section-one-col .ama__membership,
.index-page .ama__layout--one-column__page-content .ama__membership,
.index-page .index-promo .ama__membership,
.index-page .no-results .ama__membership,
.index-page > div > .ama__membership {
    display: flex;
    flex-direction: column-reverse;
    padding-bottom: 28px;
    width: 100%;
    background: none;
    align-items: flex-start;
    @include breakpoint($bp-small) {
      flex-direction: row;
    }
    @include breakpoint($bp-med) {
      padding-bottom: 56px;
      margin-top: 56px;
    }
    .ama__membership-content {
      background: none;
      display: block;
      padding: 0;
      @include breakpoint($bp-small) {
        max-width: 380px;
      }
      @include breakpoint($bp-med) {
        margin-right: 17px;
      }

      .ama__membership_title_container,
      .membership-body,
      .ama__membership_cta_container {
        padding: 0;
      }

      .membership-body {
        display: block;
      }

      .ama__membership_logo-container {
        display: none;
      }

      .ama__membership_title_container {
        margin-top: calc($gutter / 2);
        margin-bottom: calc($gutter / 2);
        @include breakpoint($bp-small) {
          margin-top: 0;
          margin-bottom: 0;
        }
      }

      .ama__membership_cta_container {
        font-weight: $font-weight-bold;
        margin: 21px 0 0;
        max-width: unset;
        position: unset;
        @include breakpoint($bp-small) {
          margin: 28px 0 0;
          max-width: 224px;
        }
        a.ama__button {
          font-size: 18px;
          line-height: 27px;
          color: $text-navy;
          padding: 8px 14px 7px;
          height: unset;
          width: 100%;
          margin: 0;
        }
      }

      .ama__h2 {
        text-transform: uppercase;
        color: $purple;
        font-weight: $font-weight-bold;
        text-align: left;
        padding: 0;
        margin: 0;
      }
    }

    .ama__membership_media-container {
      display: block;
      width: 100%;
      max-width: 680px;
      padding: 0;
      margin: 0;
      @include breakpoint($bp-small) {
        margin-left: 17px;
      }
      @include breakpoint($bp-med) {
        margin-left: auto;
      }
      img {
        width: 100%;
        height: auto;
      }
    }
}

// Index Entry slot styling
.index-page .index-promo .ama__membership,
.index-page .no-results .ama__membership {
  //border-bottom: solid 2px $gray-20;
  @include breakpoint($bp-small max-width) {
    margin: 0;
  }
  @include breakpoint($bp-med max-width) {
    padding-top: $gutter;
  }
}

.index-page .index-promo .ama__membership,
.index-page .no-results .ama__membership:not(:last-child) {
  border-bottom: solid 2px $gray-20;
}

// Index Hero slot styling
.index-page .ama__layout--one-column__page-content .index-hero .ama__membership {
  margin-top: calc($gutter / 2);
  padding-top: 14px;
  flex-direction: column-reverse;
  @include breakpoint($bp-med) {
    padding: 0;
    margin-top: $gutter;
    flex-direction: row-reverse;
    .ama__membership-content {
      h2.ama__h2 {
        font-weight: $font-weight-bold;
      }
    }
  }
  .ama__membership_media-container {
    margin: 0 0 calc($gutter /2) 0;
    padding-left: 0;
    @include breakpoint($bp-med) {
      margin-bottom: 0;
      max-width: unset;
      padding-right: 22px;
    }
  }
  .ama__membership_cta_container a.ama__button {
    background: $purple;
    border-color: $purple;
    color: $white;
    &:hover{
      background: $hoverPurple;
    }
  }
}

// Category specific layout builder styling
.layout-builder__layout.layout--onecol .layout__region,
.layout-builder__layout.layout--ama-page-section-one-col .layout__region {
  .ama__membership {
    display: flex;
    flex-direction: column-reverse;
    column-gap: 120px;
    padding-bottom: 28px;
    @include breakpoint($bp-small) {
      flex-direction: row;
      column-gap: 17px;
    }
    @include breakpoint($bp-med) {
      column-gap: 120px;
      padding-bottom: 56px;
      margin-top: 56px;
    }
    .ama__membership-content {
      background: none;
      display: block;
      padding: 0;
      @include breakpoint($bp-small) {
        max-width: 380px;
      }

      .ama__membership_title_container,
      .membership-body,
      .ama__membership_cta_container {
        padding: 0;
      }

      .ama__membership_logo-container {
        display: none;
      }

      .ama__membership_title_container {
        margin-top: 28px;
        margin-bottom: 14px;
        @include breakpoint($bp-small) {
          margin-top: 0;
          margin-bottom: 0;
        }
      }

      .ama__membership_cta_container {
        font-weight: $font-weight-bold;
        margin: 21px 0 0;
        max-width: unset;
        position: unset;
        @include breakpoint($bp-small) {
          margin: 28px 0 0;
          max-width: 224px;
        }
        a.ama__button {
          color: $text-navy;
          font-size: 18px;
          line-height: 27px;
          padding: 8px 14px 7px;
          height: unset;
          width: 100%;
          margin: 0;
        }
      }

      .ama__h2 {
        text-transform: uppercase;
        color: $purple;
        font-weight: $font-weight-bold;
        text-align: left;
        padding: 0;
        margin: 0;
      }
    }

    .ama__membership_media-container {
      display: block;
      width: 100%;
      max-width: 680px;
      padding: 0;
      margin: 0;
    }
  }
}
